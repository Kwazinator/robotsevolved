(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{57:function(t,e,a){t.exports=a(87)},62:function(t,e,a){},86:function(t,e,a){},87:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(24),i=a.n(o),c=(a(62),a(5)),l=a(4),s=a(7),u=a(6),p=a(3),f=a(12),h=a(27),d=a.n(h),m=a(53),g="UP",y={yellow:{UP:"/static/images/yellow_up.png",DOWN:"/static/images/yellow_down.png",LEFT:"/static/images/yellow_left.png",RIGHT:"/static/images/yellow_right.png"},red:{UP:"/static/images/red_up.png",DOWN:"/static/images/red_down.png",LEFT:"/static/images/red_left.png",RIGHT:"/static/images/red_right.png"},green:{UP:"/static/images/green_up.png",DOWN:"/static/images/green_down.png",LEFT:"/static/images/green_left.png",RIGHT:"/static/images/green_right.png"},blue:{UP:"/static/images/blue_up.png",DOWN:"/static/images/blue_down.png",LEFT:"/static/images/blue_left.png",RIGHT:"/static/images/blue_right.png"}};function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var b=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(v()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){return Object(c.a)(this,n),a.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{style:{width:"15%",float:"left",display:"contents"}},r.a.createElement("h3",null,"Moves: ",this.props.moveHistory.length),this.props.moveHistory.map((function(e){return r.a.createElement("img",{src:y[t.props.playerState[e.robot].colorSignifier][e.dir]})})))}}]),n}(r.a.Component);function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var S=function(t){var e=t.dimension,a=t.position,n=e+"px";return{width:n,height:n,backgroundColor:"#807878",position:"absolute",top:a.top*e+"px",left:a.left*e+"px"}},w=function(t){var e=t.dimension,a=(t.position,e-4+"px");return{width:a,height:a,backgroundColor:"#c4a1a1",position:"absolute",top:"2px",left:"2px"}},x=function(t){var e=t.dimension,a=(t.position,(e-4)/2+"px");return{width:a,height:a,backgroundColor:"#e1e1e1",position:"absolute",top:(e-4)/4+"px",left:(e-4)/4+"px"}},R=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(E()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(){var t;Object(c.a)(this,n);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=a.call.apply(a,[this].concat(r))).handleClick=function(){t.props.handlePlayerMovementFromMouse(t.props.position)},t}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this.handleClick,style:S(this.props)},r.a.createElement("div",{style:w(this.props)},r.a.createElement("div",{style:x(this.props)})))}}]),n}(r.a.Component),O=function(t,e){return{width:t+"px",height:e+"px",border:"1px solid black",position:"relative",margin:"25px auto",overflow:"hidden",float:"left",marginRight:"30px"}},C=function(t){var e=t.width,a=t.height,n=t.children;return r.a.createElement("div",{style:O(e,a)},n)};function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var k=function(t){var e=t.dimension,a=t.position,n=e+"px";return{width:n,height:n,position:"absolute",top:a.top*e+"px",left:a.left*e+"px",transition:"all 0.1s ease"}},P=function(t){var e=t.dimension-4+"px";return{width:e,height:e,position:"absolute",top:"2px",left:"2px",transition:"all 0.1s ease"}},z=function(t){var e=t.dimension,a=t.color,n=3*(e-4)/4+"px",r=void 0,o="none";return t.index===t.selected&&(r="#ffd700",o="solid"),{width:n,height:n,backgroundColor:a,borderStyle:o,borderColor:r,position:"absolute",borderRadius:"50%",top:(e-4)/8+"px",left:(e-4)/8+"px",transition:"all 0.1s ease"}},D=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(j()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(){var t;Object(c.a)(this,n);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=a.call.apply(a,[this].concat(r))).handleKeyDown=function(e){var a;switch(e.keyCode){case 37:a={top:0,left:-40,dir:"LEFT"};break;case 38:a={top:-40,left:0,dir:g};break;case 39:a={top:0,left:40,dir:"RIGHT"};break;case 40:a={top:40,left:0,dir:"DOWN"};break;case 9:return void t.props.tabSelector();default:return}t.props.handlePlayerMovement(a)},t.handleClick=function(){t.props.onClick(t.props.index)},t}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this.handleClick,style:k(this.props)},r.a.createElement("div",{style:P(this.props)},r.a.createElement("div",{style:z(this.props)})))}},{key:"componentDidMount",value:function(){window.onkeydown=this.handleKeyDown}}]),n}(r.a.Component);function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var B=function(t){var e=t.orientation,a=t.dimension,n=t.position,r=t.opacity,o=(t.onClick,a/4+"px");if("horizontal"==e)var i=a+"px",c=o,l=n.top*a-4+"px",s=n.left*a+"px";else i=o,c=a+"px",l=n.top*a+"px",s=n.left*a-4+"px";return{width:i,height:c,backgroundColor:"black",position:"absolute",top:l,left:s,opacity:r}},H=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(M()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).handleClick=function(){1==e.props.opacity?e.props.onClick(0,e.props.orientation,e.props.position.top,e.props.position.left):e.props.onClick(1,e.props.orientation,e.props.position.top,e.props.position.left)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:B(this.props),onClick:this.handleClick})}}]),n}(r.a.Component),I=function(t){var e=t.dimension,a=t.position,n=e+"px";return{width:n,height:n,position:"absolute",top:a.top*e+"px",left:a.left*e+"px"}},T=function(t){return r.a.createElement("img",{src:"/static/images/swirl.png",style:I(t)})},N=function(t,e,a){var n="block";return!1===a&&(n="none"),{display:n,width:t+"px",height:e+"px",position:"relative",overflow:"hidden",float:"left",marginRight:"30px",margin:"auto"}},W=function(t,e){return{display:"flex",width:t+"px",height:e+"px",position:"absolute",overflow:"hidden",float:"center",marginRight:"30px",margin:"auto",justifyContent:"center",alignItems:"center"}},L=function(t,e){return{backgroundColor:"black",opacity:.5,width:t+"px",height:e+"px",position:"absolute",overflow:"hidden",float:"left",marginRight:"30px",margin:"auto"}},G=function(t){var e=t.width,a=t.height,n=t.visible,o=t.children;return r.a.createElement("div",{style:N(e,a,n)},r.a.createElement("div",{style:L(e,a)}),r.a.createElement("div",{style:W(e,a)},o))},_=function(t){var e=t.dir,a=t.position,n=t.endPosition,r=t.color,o=0,i=0,c=0,l=0;return void 0!==a&&void 0!==n&&("LEFT"===e?(c=n.top,l=n.left,o=a.left-n.left+"px",i="4px"):"RIGHT"===e?(c=a.top,l=a.left,o=n.left-a.left+"px",i="4px"):e===g?(c=n.top,l=n.left,o="4px",i=a.top-n.top+"px"):(c=a.top,l=a.left,o="4px",i=n.top-a.top+"px")),{width:o,height:i,backgroundColor:r,position:"absolute",top:(c+=18)+"px",left:(l+=18)+"px",transition:"all 0.1s ease"}},q=function(t){return r.a.createElement("div",{style:_(t)})},F=function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t};function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Y=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(A()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){return Object(c.a)(this,n),a.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{color:"white"}},"You Win! with ",this.props.numMoves," Moves!"),r.a.createElement("input",{style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"},id:"namesubmitHS",type:"text",placeholder:"Username"}),r.a.createElement("form",{onSubmit:this.props.submitAnswer,style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"}},r.a.createElement("button",{type:"submit"},"Submit Highscore ")))}}]),n}(r.a.Component);function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var U=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(V()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){return Object(c.a)(this,n),a.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.props.submitPuzzle,style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"}},r.a.createElement("button",{type:"submit"},"Create Puzzle")),r.a.createElement("input",{style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"},id:"namesubmit",type:"text",placeholder:"Name Of Puzzle?"}))}}]),n}(r.a.Component),J=a(105),K=Object(J.a)((function(t){return{root:{flexGrow:1},paper:{padding:t.spacing(2),margin:"auto",Width:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})),$=function(t){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t.resetPuzzle,style:{marginRight:"10px"}},r.a.createElement("button",{type:"submit"},"Reset")))};function Q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var X=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(Q()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).createBoardHandler=function(t){t.preventDefault();var a=parseInt(document.getElementById("boardWidthInput").value),n=parseInt(document.getElementById("boardHeightInput").value),r=parseInt(document.getElementById("boardRandomPercent").value);"NaN"===a.toString()?a=16:a>36?a=36:a<4&&(a=4),"NaN"===n.toString()?n=16:"NaN"===n.toString()||n>36?n=36:n<4&&(n=4),"NaN"===r.toString()?r=20:r<0?r=0:r>100&&(r=100),e.props.createBoard(a,n,(100-r)/100)},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.show?r.a.createElement("div",{className:"modal"},r.a.createElement("h2",null,"Create Board Settings"),r.a.createElement("div",{className:"content",style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px"}},r.a.createElement("div",null,r.a.createElement("label",{style:{display:"inline-block",textAlign:"right",width:"140px",paddingRight:"20px"}},"Board Width:\t\t"),r.a.createElement("input",{title:"default is 16",id:"boardWidthInput",type:"number",min:"4",max:"36",placeholder:"4-36"})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"inline-block",textAlign:"right",width:"140px",paddingRight:"20px"}},"Board Height:\t\t"),r.a.createElement("input",{title:"default is 16",id:"boardHeightInput",type:"number",min:"4",max:"36",placeholder:"4-36"})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"inline-block",textAlign:"right",width:"140px",paddingRight:"20px"}},"Wall Spawn Rate:\t"),r.a.createElement("input",{title:"default is 20%",id:"boardRandomPercent",type:"number",min:"0",max:"100",placeholder:"0-100%"}))),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"submit",onClick:this.createBoardHandler},"Create New Board"),r.a.createElement("button",{style:{float:"right"},className:"toggle-button",onClick:this.props.closeModal},"Close"))):null}}]),n}(r.a.Component);function Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var tt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(Z()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).handleClick=function(t){return e.props.onClick("Create Board")},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick}," Create New Board")}}]),n}(r.a.Component),et=a(111),at=a(107),nt=function(t){return t+"px"};function rt(t){K();return r.a.createElement("div",{style:{marginRight:"10px",marginTop:"25px",marginBottom:"10px",opacity:1}},r.a.createElement("div",{style:{display:"inline-flex",width:"200px"}},r.a.createElement("button",{style:{marginRight:"10px"},onClick:function(){var e=document.createElement("textarea");document.body.appendChild(e),e.value="http://"+window.location.host+"/play/"+t.uri,e.select(),document.execCommand("copy"),document.body.removeChild(e),t.copiedClipboard()}},"Copy Puzzle Link"),t.copiedToClipboard?r.a.createElement("div",{style:{color:"green"}},"Copied!"):null),r.a.createElement("div",{style:{display:"inline-flex",width:"200px",marginTop:"15px",marginBottom:"15px"}},r.a.createElement($,{resetPuzzle:t.resetPuzzle}),"Yes"===t.createMode?r.a.createElement(tt,{onClick:t.createBoardPressed}):null),r.a.createElement("div",{style:{display:"inline-flex",width:"200px",marginTop:"15px",marginBottom:"15px"}},r.a.createElement(at.a,{id:"discrete-slider-small-steps",gutterBottom:!0},"Size Of Board"),r.a.createElement(et.a,{onChangeCommitted:function(e,a){var n=parseInt(a);console.log(a),"NaN"===n.toString()?n=10:n>16?n=16:n<2&&(n=2),t.DimensionChanged(n)},getAriaValueText:nt,"aria-labelledby":"discrete-slider-small-steps",step:1,marks:!0,min:2,max:16,valueLabelDisplay:"auto"})))}var ot=function(t){var e=t.highscores;return r.a.createElement("div",{style:{marginleft:"15px",float:"left"}},"All Highscores:",e.map((function(t){return function(t){return r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},"By: "+t.comment,r.a.createElement("div",null,"Moves: "+t.numMoves))}(t)})))};function it(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ct=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(it()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){return Object(c.a)(this,n),a.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{id:"DisplayView",style:{float:"center",width:"15%",opacity:1,justifyContent:"center",alignItems:"center"}},this.props.playerState.map((function(e){return t.props.checkwin(e)})),r.a.createElement($,{resetPuzzle:this.props.resetPuzzle}))}}]),n}(r.a.Component);function lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var st=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(lt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).handleClick=function(t){e.props.onClick()},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"}},"Toggle Line Indicators:",r.a.createElement("label",{class:"switch"},r.a.createElement("input",{id:"toggleLineIndicators",onClick:this.handleClick,type:"checkbox",class:"real-checkbox"}),r.a.createElement("span",{class:"slider round"})))}}]),n}(r.a.Component),ut=function(t,e,a,n,r){var o=e.left,i=e.top,c=!1;t.map((function(t){t.top==i&&t.left==o-1&&1==t.opacity&&(c=!0)}));var l=a.top==i&&a.left==o-1&&1==a.opacity;return!(c&&l)},pt=function(t,e,a,n,r){var o=e.left,i=e.top,c=!1;a.map((function(t){t.top==i-1&&t.left==o&&1==t.opacity&&(c=!0)}));var l=!1,s=!1;return t.map((function(t){t.top==i-1&&t.left==o&&1==t.opacity&&(l=!0),t.top==i-1&&t.left==o+1&&1==t.opacity&&(s=!0)})),!(c&&(l||s)||l&&s)},ft=function(t,e,a){var n,r,o=0;do{o=0,n=Math.floor(Math.random()*Math.floor(a)),r=Math.floor(Math.random()*Math.floor(e)),t.map((function(t){n==t.top&&r==t.left&&(o=1)}))}while(1==o);return{top:n,left:r}},ht=function(t,e,a){for(var n=[],r=[{top:0,left:0}],o=[],i=[],c={top:Math.floor(Math.random()*Math.floor(e)),left:Math.floor(Math.random()*Math.floor(t))},l=[c],s=0;s<5;s++)l.push(ft(l,t,e));var u=F(l[1],{color:"#4169e1",colorSignifier:"blue"}),p=F(l[2],{color:"#228b22",colorSignifier:"green"}),f=F(l[3],{color:"#b22222",colorSignifier:"red"}),h=F(l[4],{color:"#ff8c00",colorSignifier:"yellow"});i.push(u),i.push(p),i.push(f),i.push(h);for(s=0;s<t;s+=1)for(var d=0;d<e;d+=1)n.push({top:d,left:s});for(d=0;d<e;d+=1)for(s=0;s<t;s+=1)s<1?r.push({top:d,left:s,opacity:1}):s==t-1&&r.push({top:d,left:s+1,opacity:1}),d<1?o.push({top:d,left:s,opacity:1}):d==e-1&&o.push({top:d+1,left:s,opacity:1});for(d=0;d<e;d+=1)for(s=0;s<t;s+=1)s>1&&s!=t-1&&Math.random()>a&&ut(o,{top:d,left:s},r[r.length-1])?r.push({top:d,left:s,opacity:1}):r.push({top:d,left:s,opacity:0}),d>1&&d!=e-1&&Math.random()>a&&pt(r,{top:d,left:s},o)?o.push({top:d,left:s,opacity:1}):o.push({top:d,left:s,opacity:0});return{playerState:i,gameWon:!1,boardState:n,wallHorizontal:o,wallVerticle:r,goal:c,playerStart:i.slice()}};function dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}window.addEventListener("keydown",(function(t){[32,37,38,39,40,9].indexOf(t.keyCode)>-1&&t.preventDefault()}),!1);var mt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(dt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;if(Object(c.a)(this,n),(e=a.call(this,t)).updateHighscores=function(){d.a.get("/updatehighscores?uri="+e.state.uri).then((function(t){e.setState({highscores:JSON.parse(t.data.highscores)})}))},e.DimensionChanged=function(t){e.setState({squareSize:4*t})},e.copiedClipboard=function(){e.setState({copiedToClipboard:!0})},e.componentDidMount=function(){if("Yes"===e.props.loadedGame){var t=setInterval(e.updateHighscores,2e3);e.setState({IntervalId:t})}},e.componentWillUnmount=function(){"Yes"===e.props.loadedGame&&clearInterval(e.state.IntervalId)},e.robotSelect=function(t){e.setState({robotSelected:t})},e.submitPuzzle=function(t){t.preventDefault();var a=document.getElementById("namesubmit").value,n=e.state;n.playerState=e.state.playerStart.slice(),n.moveHistory=[],n.createMode="No",d.a.post("/submitpuzzle",F({puzzledata:n},{name:a})).then((function(t){e.setState({uri:t.data.uri,gameWon:!1}),e.props.history.push("/play/"+t.data.uri)}))},e.toggleLineIndicators=function(){0===e.state.ColoredLineDirections.length?e.setState({ColoredLineDirections:["LEFT","RIGHT",g,"DOWN"]}):e.setState({ColoredLineDirections:[]})},e.submitAnswer=function(t){t.preventDefault(),console.log(e.state.uri),d.a.post("/submithighscore",{highscore:e.state.moveHistory.length,name:document.getElementById("namesubmitHS").value,uri:e.state.uri}).then((function(t){e.setState({gameWon:!1})})),e.resetPuzzle()},e.resetPuzzle=function(t){"undefined"!==typeof t&&t.preventDefault(),e.setState({playerState:e.state.playerStart.slice(),moveHistory:[],gameWon:!1})},e.tabSelector=function(){if(!1===e.state.gameWon){var t=e.state.robotSelected+1;t%=4,e.setState({robotSelected:t})}},e.createBoardPressed=function(t){"Create Board"===t&&e.setState({showBoardResetPanelModal:!0})},e.closeCreateBoardModal=function(t){t.preventDefault(),e.setState({showBoardResetPanelModal:!1})},e.createBoard=function(t,a,n){console.log(t),console.log(a),console.log(n);var r=ht(t,a,n);e.setState(F({width:t,height:a,percent:n},r))},e.handleCollision=function(t,a,n){var r,o=e.state.playerState[a].left,i=e.state.playerState[a].top;switch(console.log(o),console.log(i),t.dir){case g:var c=0;e.state.wallHorizontal.map((function(t){t.left===o&&t.top<=i&&t.top>c&&1==t.opacity&&(c=t.top)})),e.state.playerState.map((function(t){t.left===o&&t.top<i&&t.top+1>c&&(c=t.top+1)})),r={top:c,left:o,color:n};break;case"RIGHT":c=e.state.width-1;e.state.wallVerticle.map((function(t){t.top===i&&t.left>o&&t.left<c+1&&1==t.opacity&&(c=t.left-1)})),e.state.playerState.map((function(t){t.top===i&&t.left>o&&t.left<c+1&&(c=t.left-1)})),r={top:i,left:c,color:n};break;case"LEFT":c=0;e.state.wallVerticle.map((function(t){t.top===i&&t.left<=o&&t.left>c&&1==t.opacity&&(c=t.left)})),e.state.playerState.map((function(t){t.top===i&&t.left<o&&t.left+1>c&&(c=t.left+1)})),r={top:i,left:c,color:n};break;case"DOWN":c=e.state.height-1;e.state.wallHorizontal.map((function(t){t.left===o&&t.top>i&&t.top<c+1&&1==t.opacity&&(c=t.top-1)})),e.state.playerState.map((function(t){t.left===o&&t.top>i&&t.top<c+1&&(c=t.top-1)})),r={top:c,left:o,color:n};break;default:return}return r},e.checkwin=function(t){return t.top===e.state.goal.top&&t.left===e.state.goal.left?(!1===e.state.gameWon&&e.setState({gameWon:!0}),"No"===e.state.createMode?r.a.createElement(Y,{numMoves:e.state.moveHistory.length,submitAnswer:e.submitAnswer}):r.a.createElement(U,{submitPuzzle:e.submitPuzzle})):""},e.handlePlayerMovement=function(t){if(void 0!==t.dir&&!1===e.state.gameWon){var a=e.handleCollision(t,e.state.robotSelected,e.state.playerState[e.state.robotSelected].color),n=e.state.playerState,r=e.state.moveHistory;(a=F(a,{colorSignifier:n[e.state.robotSelected].colorSignifier})).top===n[e.state.robotSelected].top&&a.left===n[e.state.robotSelected].left||r.push({dir:t.dir,robot:e.state.robotSelected,colorSignifier:n[e.state.robotSelected].colorSignifier}),n[e.state.robotSelected]=a,e.setState({playerState:n,moveHistory:r}),e.checkwin(a)}},e.handlePlayerMovementFromMouse=function(t){var a,n=e.state.playerState[e.state.robotSelected];a=t.top===n.top&&t.left<n.left?{top:0,left:-e.state.squareSize,dir:"LEFT"}:t.top===n.top&&t.left>n.left?{top:0,left:e.state.squareSize,dir:"RIGHT"}:t.top<n.top&&t.left===n.left?{top:-e.state.squareSize,left:0,dir:g}:t.top>n.top&&t.left===n.left?{top:e.state.squareSize,left:0,dir:"DOWN"}:{top:0,left:0,dir:void 0},e.handlePlayerMovement(a)},e.createModeWallClick=function(t,a,n,r){if("Yes"==e.state.createMode)if(e.resetPuzzle(),"horizontal"==a){var o=e.state.wallHorizontal;o.map((function(t,e){t.top==n&&t.left==r&&(i=e)})),o[i]={top:n,left:r,opacity:t},console.log("clicking horizontal wall"),e.setState({wallHorizontal:o})}else if("verticle"==a){var i,c=e.state.wallVerticle;c.map((function(t,e){t.top==n&&t.left==r&&(i=e)})),c[i]={top:n,left:r,opacity:t},e.setState({wallVerticle:c})}},"Yes"===e.props.loadedGame)e.state=JSON.parse(e.props.gamedata),e.state.highscores=e.props.highscores,e.state.uri=e.props.uri,e.state.gameWon=!1,e.state.ColoredLineDirections=[],e.state.showBoardResetPanelModal=!1,e.state.squareSize=40,e.state.copiedToClipboard=!1,console.log(e.state);else{var o=ht(e.props.settingsWidth,e.props.settingsHeight,.9);e.state=F({robotSelected:0,moveHistory:[],uri:"",createMode:"Yes",highscores:[],showBoardResetPanelModal:!1,ColoredLineDirections:[],width:e.props.settingsWidth,height:e.props.settingsHeight,percentWall:e.props.settingsPercent,squareSize:40,copiedToClipboard:!1},o)}return e}return Object(l.a)(n,[{key:"render",value:function(){var t,e=this;return r.a.createElement("div",{id:"GameMain",style:{width:"100%",display:"inline-block"}},r.a.createElement("div",{style:{width:"15%",display:"inline-block",float:"left"}},r.a.createElement(rt,(t={uri:this.state.uri,resetPuzzle:this.resetPuzzle},Object(f.a)(t,"resetPuzzle",this.resetPuzzle),Object(f.a)(t,"createBoard",this.createBoard),Object(f.a)(t,"width",this.state.width),Object(f.a)(t,"height",this.state.height),Object(f.a)(t,"percent",this.state.percent),Object(f.a)(t,"createMode",this.state.createMode),Object(f.a)(t,"createBoardPressed",this.createBoardPressed),Object(f.a)(t,"DimensionChanged",this.DimensionChanged),Object(f.a)(t,"copiedClipboard",this.copiedClipboard),Object(f.a)(t,"copiedToClipboard",this.copiedToClipboard),t)),r.a.createElement(b,{moveHistory:this.state.moveHistory,playerState:this.state.playerState})),r.a.createElement(C,{width:this.state.width*this.state.squareSize,height:this.state.height*this.state.squareSize},this.state.boardState.map((function(t){return r.a.createElement(R,{dimension:e.state.squareSize,position:{top:t.top,left:t.left},handlePlayerMovementFromMouse:e.handlePlayerMovementFromMouse})})),r.a.createElement(T,{dimension:this.state.squareSize,position:this.state.goal}),this.state.ColoredLineDirections.map((function(t){return r.a.createElement(q,{dir:t,position:{top:e.state.playerState[e.state.robotSelected].top*e.state.squareSize,left:e.state.playerState[e.state.robotSelected].left*e.state.squareSize},endPosition:e.handleCollision({dir:t},e.state.robotSelected,e.state.playerState[e.state.robotSelected].color),color:"red"})})),this.state.playerState.map((function(t,a){return r.a.createElement(D,{dimension:e.state.squareSize,position:{top:t.top,left:t.left},color:t.color,selected:e.state.robotSelected,index:a,onClick:e.robotSelect,handlePlayerMovement:e.handlePlayerMovement,tabSelector:e.tabSelector})})),this.state.wallHorizontal.map((function(t){return r.a.createElement(H,{orientation:"horizontal",dimension:e.state.squareSize,position:{top:t.top,left:t.left},opacity:t.opacity,onClick:e.createModeWallClick})})),this.state.wallVerticle.map((function(t){return r.a.createElement(H,{orientation:"verticle",dimension:e.state.squareSize,position:{top:t.top,left:t.left},opacity:t.opacity,onClick:e.createModeWallClick})})),r.a.createElement(G,{width:this.state.width*this.state.squareSize,height:this.state.height*this.state.squareSize,visible:this.state.gameWon},r.a.createElement(ct,{playerState:this.state.playerState,resetPuzzle:this.resetPuzzle,highscores:this.state.highscores,checkwin:this.checkwin}))),r.a.createElement("div",{style:{display:"grid",marginTop:"15px"}},r.a.createElement(st,{onClick:this.toggleLineIndicators}),r.a.createElement(ot,{highscores:this.state.highscores})),r.a.createElement(X,{createBoard:this.createBoard,width:this.state.width,height:this.state.height,percent:this.state.percent,closeModal:this.closeCreateBoardModal,show:this.state.showBoardResetPanelModal}))}}]),n}(r.a.Component),gt=Object(m.a)(mt);function yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var vt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(yt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).state={settingsWidth:16,settingsHeight:16,settingsPercent:.9},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(gt,{loadedGame:"No",settingsWidth:this.state.settingsWidth,settingsHeight:this.state.settingsHeight,settingsPercent:this.state.settingsPercent})}}]),n}(r.a.Component);function bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}r.a.Component;function Et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}r.a.Component;var St=a(108),wt=a(109),xt=a(110);function Rt(t){var e=K();if("undefined"!==typeof t.highscore)var a=t.highscore.numMoves,n=t.highscore.comment;else a="None",n="";return r.a.createElement(St.a,{onClick:function(){t.handleGameClick(t.game.puzzledata,t.highscores,t.game.uri)},style:{cursor:"pointer"},item:!0},r.a.createElement(wt.a,{className:e.paper},r.a.createElement(St.a,{container:!0,spacing:2},r.a.createElement(St.a,{item:!0},r.a.createElement(xt.a,{className:e.image},r.a.createElement("img",{className:e.img,alt:"complex",src:"https://scx1.b-cdn.net/csz/news/800/2019/3-robot.jpg"}))),r.a.createElement(St.a,{item:!0,xs:15,sm:!0,container:!0},r.a.createElement(St.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:5},r.a.createElement(St.a,{item:!0,xs:!0},r.a.createElement(at.a,{gutterBottom:!0,variant:"subtitle1"},t.game.name),r.a.createElement(at.a,{variant:"body2",gutterBottom:!0},"Type ",t.game.type," \u2022 ",t.game.difficulty),r.a.createElement(at.a,{variant:"body2",color:"textSecondary"},t.game.authorname)),r.a.createElement(St.a,{item:!0},r.a.createElement(at.a,{variant:"body2",style:{cursor:"pointer"}},"Remove")))),r.a.createElement(St.a,{spacing:2,item:!0},r.a.createElement(at.a,{variant:"body2"},a),r.a.createElement(at.a,{variant:"body2",color:"textSecondary"},n)))))}function Ot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ct=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(Ot()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;Object(c.a)(this,n),(e=a.call(this,t)).handleGameClick=function(t,a,n){e.props.handleGameClick(t,a,n)},e.handleSearchSubmit=function(t){t.preventDefault();var a=document.getElementById("searchBarFindGame").value;d.a.post("/search",{search:a}).then((function(t){console.log(t),e.setState({highscoreslist:JSON.parse(t.data.highscoreslist),gameslist:JSON.parse(t.data.gameslist)})}))};var r=window.gameslist,o=window.highscoreslist;return e.state={gameslist:r,highscoreslist:o},e}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{id:"GameMain"},r.a.createElement(St.a,{item:!0,xs:12},r.a.createElement(St.a,{container:!0,justify:"center",spacing:2},this.state.gameslist.map((function(e,a){return r.a.createElement(Rt,{handleGameClick:t.handleGameClick,game:e,highscores:t.state.highscoreslist[a],highscore:t.state.highscoreslist[a][0]})})))))}}]),n}(r.a.Component);function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var kt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(jt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){return Object(c.a)(this,n),a.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(gt,{loadedGame:"Yes",gamedata:this.props.gamedata,highscores:this.props.highscores,uri:this.props.uri})}}]),n}(r.a.Component);a(86);function Pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var zt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(Pt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).loginGoogle=function(t){t.preventDefault(),window.location.href="/login/google"},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.show?r.a.createElement("div",{class:"modal",id:"modal"},r.a.createElement("h2",null,"Login to Robits!"),r.a.createElement("img",{onClick:this.loginGoogle,src:"/static/images/btn_google_signin_light_normal_web@2x.png"}),r.a.createElement("button",{class:"toggle-button",onClick:this.props.closeLoginModal},"close")):null}}]),n}(r.a.Component);function Dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Mt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(Dt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(){return Object(c.a)(this,n),a.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return"No"==window.loggedin?null:r.a.createElement("div",null,r.a.createElement("div",{class:"dasher"},r.a.createElement("img",{src:window.userInfo.profilePicture,style:{borderRadius:"50%",height:"50px",width:"50px"}})),r.a.createElement("div",null,window.userInfo.username))}}]),n}(r.a.Component);function Bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ht=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(Bt()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).handleClick=function(t){return"Yes"==window.loggedin?e.props.onClick("Logout"):e.props.onClick("Sign in")},e}return Object(l.a)(n,[{key:"render",value:function(){if("Yes"==window.loggedin)var t="Logout";else t="Sign in";return r.a.createElement("a",{onClick:this.handleClick,class:"signin button button-empty"},t)}}]),n}(r.a.Component);function It(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Tt=function(t){Object(s.a)(n,t);var e,a=(e=n,function(){var t,a=Object(p.a)(e);if(It()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)});function n(t){var e;return Object(c.a)(this,n),(e=a.call(this,t)).SignInButtonPressed=function(t){"Sign in"==t?e.setState({showLoginModal:!0}):window.location.href="/auth/logout"},e.closeLoginModal=function(t){t.preventDefault(),e.setState({showLoginModal:!1})},e.handleGameClick=function(t,a,n){e.setState({PageSelected:r.a.createElement(kt,{highscores:a,gamedata:t,uri:n})})},e.handleClickCreateGame=function(t){t.preventDefault();var a=r.a.createElement(vt,{state:"new"});e.setState({PageSelected:a})},e.handleClickFindGame=function(t){t.preventDefault(),e.setState({PageSelected:r.a.createElement(Ct,{handleGameClick:e.handleGameClick})})},console.log(window.highscoreslist),console.log(window.gameslist),""==window.uri?e.state={PageSelected:r.a.createElement(vt,null)}:e.state={PageSelected:r.a.createElement(kt,{gamedata:window.token.puzzledata,highscores:window.highscores,uri:window.uri})},e.state.showLoginModal=!1,e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{id:"top"},r.a.createElement("div",{class:"site-title-nav"},r.a.createElement("input",{type:"checkbox",id:"tn-tg",class:"topnav-toggle fullscreen-toggle","aria-label":"Navigation"}),r.a.createElement("label",{for:"tn-tg",class:"fullscreen-mask"}),r.a.createElement("label",{for:"tn-tg",class:"hbg"},r.a.createElement("span",{class:"hbg__in"})),r.a.createElement("h1",{class:"site-title"},r.a.createElement("a",{href:"/"},"RobitsEvolved",r.a.createElement("span",null,".com"))),r.a.createElement("nav",{id:"topnav",class:"hover"},r.a.createElement("section",null,r.a.createElement("a",{href:"/"},r.a.createElement("span",{class:"play"},"Play"),r.a.createElement("span",{class:"home"},"robitsevolved")),r.a.createElement("div",{role:"group"},r.a.createElement("a",{onClick:this.handleClickCreateGame,href:"/#createGame"},"Create a game"),r.a.createElement("a",{onClick:this.handleClickFindGame,href:"/#findgame"},"Find a game"),r.a.createElement("a",{href:"/simul"},"Puzzle Rush"))),r.a.createElement("section",null,r.a.createElement("a",{href:"/training"},"Learn"),r.a.createElement("div",{role:"group"},r.a.createElement("a",{href:"/learn"},"Robits Basics"),r.a.createElement("a",{href:"/training"},"Starter Puzzles"))),r.a.createElement("section",null,r.a.createElement("a",{href:"/player"},"Community"),r.a.createElement("div",{role:"group"},r.a.createElement("a",{href:"/player"},"Players"),r.a.createElement("a",{href:"/team"},"Teams"),r.a.createElement("a",{href:"/forum"},"Forum"))),r.a.createElement("section",null,r.a.createElement("a",{href:"/analysis"},"Tools"),r.a.createElement("div",{role:"group"},r.a.createElement("a",{href:"/analysis"},"Robits solver (test)"),r.a.createElement("a",{href:"/analysis#explorer"},"Settings"))))),r.a.createElement("div",{class:"site-buttons"},r.a.createElement("div",{id:"clinput"},r.a.createElement("a",{class:"link"},r.a.createElement("span",{"data-icon":"y"})),r.a.createElement("input",{spellcheck:"false",autocomplete:"false","aria-label":"Search",placeholder:"Search"})),r.a.createElement("div",{class:"dasher"},r.a.createElement("a",{class:"toggle link anon"},r.a.createElement("span",{title:"Preferences","data-icon":"%"}))),r.a.createElement(Mt,null),r.a.createElement(Ht,{onClick:this.SignInButtonPressed}))),this.state.PageSelected,r.a.createElement(zt,{closeLoginModal:this.closeLoginModal,show:this.state.showLoginModal}))}}]),n}(r.a.Component),Nt=a(112);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Nt.a,null,r.a.createElement(Tt,null)),document.getElementById("MainApp")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.c94e35b3.chunk.js.map