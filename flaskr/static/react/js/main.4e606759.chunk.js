(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{57:function(e,t,n){e.exports=n(87)},62:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),c=(n(62),n(5)),l=n(4),s=n(7),u=n(6),p=n(3),f=n(12),h=n(27),d=n.n(h),m=n(53),g="UP",y={yellow:{UP:"/static/images/yellow_up.png",DOWN:"/static/images/yellow_down.png",LEFT:"/static/images/yellow_left.png",RIGHT:"/static/images/yellow_right.png"},red:{UP:"/static/images/red_up.png",DOWN:"/static/images/red_down.png",LEFT:"/static/images/red_left.png",RIGHT:"/static/images/red_right.png"},green:{UP:"/static/images/green_up.png",DOWN:"/static/images/green_down.png",LEFT:"/static/images/green_left.png",RIGHT:"/static/images/green_right.png"},blue:{UP:"/static/images/blue_up.png",DOWN:"/static/images/blue_down.png",LEFT:"/static/images/blue_left.png",RIGHT:"/static/images/blue_right.png"}};function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(v()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){return Object(c.a)(this,a),n.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"15%",float:"left",display:"contents"}},r.a.createElement("h3",null,"Moves: ",this.props.moveHistory.length),this.props.moveHistory.map((function(t){return r.a.createElement("img",{src:y[e.props.playerState[t.robot].colorSignifier][t.dir]})})))}}]),a}(r.a.Component);function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){var t=e.dimension,n=e.position,a=t+"px";return{width:a,height:a,backgroundColor:"#807878",position:"absolute",top:n.top*t+"px",left:n.left*t+"px",transition:"all 0.1s ease"}},x=function(e){var t=e.dimension,n=(e.position,t-4+"px");return{width:n,height:n,backgroundColor:"#c4a1a1",position:"absolute",top:"2px",left:"2px",transition:"all 0.1s ease"}},w=function(e){var t=e.dimension,n=(e.position,(t-4)/2+"px");return{width:n,height:n,backgroundColor:"#e1e1e1",position:"absolute",top:(t-4)/4+"px",left:(t-4)/4+"px",transition:"all 0.1s ease"}},R=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(E()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(){var e;Object(c.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).handleClick=function(){e.props.handlePlayerMovementFromMouse(e.props.position)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this.handleClick,style:S(this.props)},r.a.createElement("div",{style:x(this.props)},r.a.createElement("div",{style:w(this.props)})))}}]),a}(r.a.Component),O=function(e,t){return{width:e+"px",height:t+"px",border:"1px solid black",position:"relative",margin:"25px auto",overflow:"hidden",float:"left",marginRight:"30px"}},j=function(e){var t=e.width,n=e.height,a=e.children;return r.a.createElement("div",{style:O(t,n)},a)};function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){var t=e.dimension,n=e.position,a=t+"px";return{width:a,height:a,position:"absolute",top:n.top*t+"px",left:n.left*t+"px",transition:"all 0.1s ease"}},P=function(e){var t=e.dimension-4+"px";return{width:t,height:t,position:"absolute",top:"2px",left:"2px",transition:"all 0.1s ease"}},z=function(e){var t=e.dimension,n=e.color,a=3*(t-4)/4+"px",r=void 0,o="none";return e.index===e.selected&&(r="#ffd700",o="solid"),{width:a,height:a,backgroundColor:n,borderStyle:o,borderColor:r,position:"absolute",borderRadius:"50%",top:(t-4)/8+"px",left:(t-4)/8+"px",transition:"all 0.1s ease"}},D=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(C()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(){var e;Object(c.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).handleKeyDown=function(t){var n;switch(t.keyCode){case 37:n={top:0,left:-40,dir:"LEFT"};break;case 38:n={top:-40,left:0,dir:g};break;case 39:n={top:0,left:40,dir:"RIGHT"};break;case 40:n={top:40,left:0,dir:"DOWN"};break;case 9:return void e.props.tabSelector();default:return}e.props.handlePlayerMovement(n)},e.handleClick=function(){e.props.onClick(e.props.index)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this.handleClick,style:k(this.props)},r.a.createElement("div",{style:P(this.props)},r.a.createElement("div",{style:z(this.props)})))}},{key:"componentDidMount",value:function(){window.onkeydown=this.handleKeyDown}}]),a}(r.a.Component),M=function(e){var t=e.orientation,n=e.dimension,a=e.position,r=n/4+"px";if("horizontal"==t)var o=n+"px",i=r,c=a.top*n-4+"px",l=a.left*n+"px";else o=r,i=n+"px",c=a.top*n+"px",l=a.left*n-4+"px";return{width:o,height:i,backgroundColor:"black",position:"absolute",top:c,left:l,transition:"all 0.1s ease"}},B=function(e){return r.a.createElement("div",{style:M(e)})},H=function(e){var t=e.dimension,n=e.position,a=t+"px";return{width:a,height:a,position:"absolute",top:n.top*t+"px",left:n.left*t+"px",transition:"all 0.1s ease"}},I=function(e){return r.a.createElement("img",{src:"/static/images/swirl.png",style:H(e)})},T=function(e,t,n){var a="block";return!1===n&&(a="none"),{display:a,width:e+"px",height:t+"px",position:"relative",overflow:"hidden",float:"left",marginRight:"30px",margin:"auto"}},N=function(e,t){return{display:"flex",width:e+"px",height:t+"px",position:"absolute",overflow:"hidden",float:"center",marginRight:"30px",margin:"auto",justifyContent:"center",alignItems:"center"}},L=function(e,t){return{backgroundColor:"black",opacity:.5,width:e+"px",height:t+"px",position:"absolute",overflow:"hidden",float:"left",marginRight:"30px",margin:"auto"}},W=function(e){var t=e.width,n=e.height,a=e.visible,o=e.children;return r.a.createElement("div",{style:T(t,n,a)},r.a.createElement("div",{style:L(t,n)}),r.a.createElement("div",{style:N(t,n)},o))},G=function(e){var t=e.dir,n=e.position,a=e.endPosition,r=e.color,o=0,i=0,c=0,l=0;return void 0!==n&&void 0!==a&&("LEFT"===t?(c=a.top,l=a.left,o=n.left-a.left+"px",i="4px"):"RIGHT"===t?(c=n.top,l=n.left,o=a.left-n.left+"px",i="4px"):t===g?(c=a.top,l=a.left,o="4px",i=n.top-a.top+"px"):(c=n.top,l=n.left,o="4px",i=a.top-n.top+"px")),{width:o,height:i,backgroundColor:r,position:"absolute",top:(c+=18)+"px",left:(l+=18)+"px",transition:"all 0.1s ease"}},_=function(e){return r.a.createElement("div",{style:G(e)})},q=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(F()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){return Object(c.a)(this,a),n.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{color:"white"}},"You Win! with ",this.props.numMoves," Moves!"),r.a.createElement("input",{style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"},id:"namesubmitHS",type:"text",placeholder:"Username"}),r.a.createElement("form",{onSubmit:this.props.submitAnswer,style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"}},r.a.createElement("button",{type:"submit"},"Submit Highscore ")))}}]),a}(r.a.Component);function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(Y()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){return Object(c.a)(this,a),n.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.props.submitPuzzle,style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"}},r.a.createElement("button",{type:"submit"},"Create Puzzle")),r.a.createElement("input",{style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"},id:"namesubmit",type:"text",placeholder:"Name Of Puzzle?"}))}}]),a}(r.a.Component),J=n(105),V=Object(J.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),margin:"auto",Width:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})),K=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.resetPuzzle,style:{marginRight:"10px"}},r.a.createElement("button",{type:"submit"},"Reset")))};function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Q=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if($()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).createBoardHandler=function(e){e.preventDefault();var n=parseInt(document.getElementById("boardWidthInput").value),a=parseInt(document.getElementById("boardHeightInput").value),r=parseInt(document.getElementById("boardRandomPercent").value);"NaN"===n.toString()?n=16:n>36?n=36:n<4&&(n=4),"NaN"===a.toString()?a=16:"NaN"===a.toString()||a>36?a=36:a<4&&(a=4),"NaN"===r.toString()?r=20:r<0?r=0:r>100&&(r=100),t.props.createBoard(n,a,(100-r)/100)},t}return Object(l.a)(a,[{key:"render",value:function(){return this.props.show?r.a.createElement("div",{className:"modal"},r.a.createElement("h2",null,"Create Board Settings"),r.a.createElement("div",{className:"content",style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px"}},r.a.createElement("div",null,r.a.createElement("label",{style:{display:"inline-block",textAlign:"right",width:"140px",paddingRight:"20px"}},"Board Width:\t\t"),r.a.createElement("input",{title:"default is 16",id:"boardWidthInput",type:"number",min:"4",max:"36",placeholder:"4-36"})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"inline-block",textAlign:"right",width:"140px",paddingRight:"20px"}},"Board Height:\t\t"),r.a.createElement("input",{title:"default is 16",id:"boardHeightInput",type:"number",min:"4",max:"36",placeholder:"4-36"})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"inline-block",textAlign:"right",width:"140px",paddingRight:"20px"}},"Wall Spawn Rate:\t"),r.a.createElement("input",{title:"default is 20%",id:"boardRandomPercent",type:"number",min:"0",max:"100",placeholder:"0-100%"}))),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"submit",onClick:this.createBoardHandler},"Create New Board"),r.a.createElement("button",{style:{float:"right"},className:"toggle-button",onClick:this.props.closeModal},"Close"))):null}}]),a}(r.a.Component);function X(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Z=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(X()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleClick=function(e){return t.props.onClick("Create Board")},t}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick}," Create New Board")}}]),a}(r.a.Component),ee=n(111),te=n(107),ne=function(e){return e+"px"};function ae(e){V();return r.a.createElement("div",{style:{marginRight:"10px",marginTop:"25px",marginBottom:"10px",opacity:1}},r.a.createElement("div",{style:{display:"inline-flex",width:"200px"}},r.a.createElement("button",{style:{marginRight:"10px"},onClick:function(){var t=document.createElement("textarea");document.body.appendChild(t),t.value="http://"+window.location.host+"/play/"+e.uri,t.select(),document.execCommand("copy"),document.body.removeChild(t),e.copiedClipboard()}},"Copy Puzzle Link"),e.copiedToClipboard?r.a.createElement("div",{style:{color:"green"}},"Copied!"):null),r.a.createElement("div",{style:{display:"inline-flex",width:"200px",marginTop:"15px",marginBottom:"15px"}},r.a.createElement(K,{resetPuzzle:e.resetPuzzle}),"Yes"===e.createMode?r.a.createElement(Z,{onClick:e.createBoardPressed}):null),r.a.createElement("div",{style:{display:"inline-flex",width:"200px",marginTop:"15px",marginBottom:"15px"}},r.a.createElement(te.a,{id:"discrete-slider-small-steps",gutterBottom:!0},"Size Of Board"),r.a.createElement(ee.a,{onChangeCommitted:function(t,n){var a=parseInt(n);console.log(n),"NaN"===a.toString()?a=10:a>16?a=16:a<2&&(a=2),e.DimensionChanged(a)},getAriaValueText:ne,"aria-labelledby":"discrete-slider-small-steps",step:1,marks:!0,min:2,max:16,valueLabelDisplay:"auto"})))}var re=function(e){var t=e.highscores;return r.a.createElement("div",{style:{marginleft:"15px",float:"left"}},"All Highscores:",t.map((function(e){return function(e){return r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},"By: "+e.comment,r.a.createElement("div",null,"Moves: "+e.numMoves))}(e)})))};function oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ie=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(oe()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){return Object(c.a)(this,a),n.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"DisplayView",style:{float:"center",width:"15%",opacity:1,justifyContent:"center",alignItems:"center"}},this.props.playerState.map((function(t){return e.props.checkwin(t)})),r.a.createElement(K,{resetPuzzle:this.props.resetPuzzle}))}}]),a}(r.a.Component);function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var le=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(ce()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleClick=function(e){t.props.onClick()},t}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginRight:"5px",marginTop:"15px",marginBottom:"15px",float:"left"}},"Toggle Line Indicators:",r.a.createElement("label",{class:"switch"},r.a.createElement("input",{id:"toggleLineIndicators",onClick:this.handleClick,type:"checkbox",class:"real-checkbox"}),r.a.createElement("span",{class:"slider round"})))}}]),a}(r.a.Component),se=function(e,t,n,a,r){var o=t.left,i=t.top,c=!1;e.map((function(e){e.top==i&&e.left==o-1&&(c=!0)}));var l=n.top==i&&n.left==o-1;return!(c&&l)},ue=function(e,t,n,a,r){var o=t.left,i=t.top,c=!1;n.map((function(e){e.top==i-1&&e.left==o&&(c=!0)}));var l=!1,s=!1;return e.map((function(e){e.top==i-1&&e.left==o&&(l=!0),e.top==i-1&&e.left==o+1&&(s=!0)})),!(c&&(l||s)||l&&s)},pe=function(e,t,n){var a,r,o=0;do{o=0,a=Math.floor(Math.random()*Math.floor(n)),r=Math.floor(Math.random()*Math.floor(t)),e.map((function(e){a==e.top&&r==e.left&&(o=1)}))}while(1==o);return{top:a,left:r}},fe=function(e,t,n){for(var a=[],r=[{top:0,left:0}],o=[],i=[],c={top:Math.floor(Math.random()*Math.floor(t)),left:Math.floor(Math.random()*Math.floor(e))},l=[c],s=0;s<5;s++)l.push(pe(l,e,t));var u=q(l[1],{color:"#4169e1",colorSignifier:"blue"}),p=q(l[2],{color:"#228b22",colorSignifier:"green"}),f=q(l[3],{color:"#b22222",colorSignifier:"red"}),h=q(l[4],{color:"#ff8c00",colorSignifier:"yellow"});i.push(u),i.push(p),i.push(f),i.push(h);for(s=0;s<e;s+=1)for(var d=0;d<t;d+=1)a.push({top:d,left:s});for(d=0;d<t;d+=1)for(s=0;s<e;s+=1)s<1?r.push({top:d,left:s}):s==e-1&&r.push({top:d,left:s+1}),d<1?o.push({top:d,left:s}):d==t-1&&o.push({top:d+1,left:s});for(d=0;d<t;d+=1)for(s=0;s<e;s+=1)s>1&&s!=e-1&&Math.random()>n&&se(o,{top:d,left:s},r[r.length-1])&&r.push({top:d,left:s}),d>1&&d!=t-1&&Math.random()>n&&ue(r,{top:d,left:s},o)&&o.push({top:d,left:s});return{playerState:i,gameWon:!1,boardState:a,wallHorizontal:o,wallVerticle:r,goal:c,playerStart:i.slice()}};function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}window.addEventListener("keydown",(function(e){[32,37,38,39,40,9].indexOf(e.keyCode)>-1&&e.preventDefault()}),!1);var de=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(he()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;if(Object(c.a)(this,a),(t=n.call(this,e)).updateHighscores=function(){d.a.get("/updatehighscores?uri="+t.state.uri).then((function(e){t.setState({highscores:JSON.parse(e.data.highscores)})}))},t.DimensionChanged=function(e){t.setState({squareSize:4*e})},t.copiedClipboard=function(){t.setState({copiedToClipboard:!0})},t.componentDidMount=function(){if("Yes"===t.props.loadedGame){var e=setInterval(t.updateHighscores,2e3);t.setState({IntervalId:e})}},t.componentWillUnmount=function(){"Yes"===t.props.loadedGame&&clearInterval(t.state.IntervalId)},t.robotSelect=function(e){t.setState({robotSelected:e})},t.submitPuzzle=function(e){e.preventDefault();var n=document.getElementById("namesubmit").value,a=t.state;a.playerState=t.state.playerStart.slice(),a.moveHistory=[],a.createMode="No",d.a.post("/submitpuzzle",q({puzzledata:a},{name:n})).then((function(e){t.setState({uri:e.data.uri,gameWon:!1}),t.props.history.push("/play/"+e.data.uri)}))},t.toggleLineIndicators=function(){0===t.state.ColoredLineDirections.length?t.setState({ColoredLineDirections:["LEFT","RIGHT",g,"DOWN"]}):t.setState({ColoredLineDirections:[]})},t.submitAnswer=function(e){e.preventDefault(),console.log(t.state.uri),d.a.post("/submithighscore",{highscore:t.state.moveHistory.length,name:document.getElementById("namesubmitHS").value,uri:t.state.uri}).then((function(e){t.setState({gameWon:!1})})),t.resetPuzzle()},t.resetPuzzle=function(e){"undefined"!==typeof e&&e.preventDefault(),t.setState({playerState:t.state.playerStart.slice(),moveHistory:[],gameWon:!1})},t.tabSelector=function(){if(!1===t.state.gameWon){var e=t.state.robotSelected+1;e%=4,t.setState({robotSelected:e})}},t.createBoardPressed=function(e){"Create Board"===e&&t.setState({showBoardResetPanelModal:!0})},t.closeCreateBoardModal=function(e){e.preventDefault(),t.setState({showBoardResetPanelModal:!1})},t.createBoard=function(e,n,a){console.log(e),console.log(n),console.log(a);var r=fe(e,n,a);t.setState(q({width:e,height:n,percent:a},r))},t.handleCollision=function(e,n,a){var r,o=t.state.playerState[n].left,i=t.state.playerState[n].top;switch(console.log(o),console.log(i),e.dir){case g:var c=0;t.state.wallHorizontal.map((function(e){e.left===o&&e.top<=i&&e.top>c&&(c=e.top)})),t.state.playerState.map((function(e){e.left===o&&e.top<i&&e.top+1>c&&(c=e.top+1)})),r={top:c,left:o,color:a};break;case"RIGHT":c=t.state.width-1;t.state.wallVerticle.map((function(e){e.top===i&&e.left>o&&e.left<c&&(c=e.left-1)})),t.state.playerState.map((function(e){e.top===i&&e.left>o&&e.left<c+1&&(c=e.left-1)})),r={top:i,left:c,color:a};break;case"LEFT":c=0;t.state.wallVerticle.map((function(e){e.top===i&&e.left<=o&&e.left>c&&(c=e.left)})),t.state.playerState.map((function(e){e.top===i&&e.left<o&&e.left+1>c&&(c=e.left+1)})),r={top:i,left:c,color:a};break;case"DOWN":c=t.state.height-1;t.state.wallHorizontal.map((function(e){e.left===o&&e.top>i&&e.top<c&&(c=e.top-1)})),t.state.playerState.map((function(e){e.left===o&&e.top>i&&e.top<c+1&&(c=e.top-1)})),r={top:c,left:o,color:a};break;default:return}return r},t.checkwin=function(e){return e.top===t.state.goal.top&&e.left===t.state.goal.left?(!1===t.state.gameWon&&t.setState({gameWon:!0}),"No"===t.state.createMode?r.a.createElement(A,{numMoves:t.state.moveHistory.length,submitAnswer:t.submitAnswer}):r.a.createElement(U,{submitPuzzle:t.submitPuzzle})):""},t.handlePlayerMovement=function(e){if(void 0!==e.dir&&!1===t.state.gameWon){var n=t.handleCollision(e,t.state.robotSelected,t.state.playerState[t.state.robotSelected].color),a=t.state.playerState,r=t.state.moveHistory;(n=q(n,{colorSignifier:a[t.state.robotSelected].colorSignifier})).top===a[t.state.robotSelected].top&&n.left===a[t.state.robotSelected].left||r.push({dir:e.dir,robot:t.state.robotSelected,colorSignifier:a[t.state.robotSelected].colorSignifier}),a[t.state.robotSelected]=n,t.setState({playerState:a,moveHistory:r}),t.checkwin(n)}},t.handlePlayerMovementFromMouse=function(e){var n,a=t.state.playerState[t.state.robotSelected];n=e.top===a.top&&e.left<a.left?{top:0,left:-t.state.squareSize,dir:"LEFT"}:e.top===a.top&&e.left>a.left?{top:0,left:t.state.squareSize,dir:"RIGHT"}:e.top<a.top&&e.left===a.left?{top:-t.state.squareSize,left:0,dir:g}:e.top>a.top&&e.left===a.left?{top:t.state.squareSize,left:0,dir:"DOWN"}:{top:0,left:0,dir:void 0},t.handlePlayerMovement(n)},"Yes"===t.props.loadedGame)t.state=JSON.parse(t.props.gamedata),t.state.highscores=t.props.highscores,t.state.uri=t.props.uri,t.state.gameWon=!1,t.state.ColoredLineDirections=[],t.state.showBoardResetPanelModal=!1,t.state.squareSize=40,t.state.copiedToClipboard=!1,console.log(t.state);else{var o=fe(t.props.settingsWidth,t.props.settingsHeight,.9);t.state=q({robotSelected:0,moveHistory:[],uri:"",createMode:"Yes",highscores:[],showBoardResetPanelModal:!1,ColoredLineDirections:[],width:t.props.settingsWidth,height:t.props.settingsHeight,percentWall:t.props.settingsPercent,squareSize:40,copiedToClipboard:!1},o)}return t}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{id:"GameMain",style:{width:"100%",display:"inline-block"}},r.a.createElement("div",{style:{width:"15%",display:"inline-block",float:"left"}},r.a.createElement(ae,(e={uri:this.state.uri,resetPuzzle:this.resetPuzzle},Object(f.a)(e,"resetPuzzle",this.resetPuzzle),Object(f.a)(e,"createBoard",this.createBoard),Object(f.a)(e,"width",this.state.width),Object(f.a)(e,"height",this.state.height),Object(f.a)(e,"percent",this.state.percent),Object(f.a)(e,"createMode",this.state.createMode),Object(f.a)(e,"createBoardPressed",this.createBoardPressed),Object(f.a)(e,"DimensionChanged",this.DimensionChanged),Object(f.a)(e,"copiedClipboard",this.copiedClipboard),Object(f.a)(e,"copiedToClipboard",this.copiedToClipboard),e)),r.a.createElement(b,{moveHistory:this.state.moveHistory,playerState:this.state.playerState})),r.a.createElement(j,{width:this.state.width*this.state.squareSize,height:this.state.height*this.state.squareSize},this.state.boardState.map((function(e){return r.a.createElement(R,{dimension:t.state.squareSize,position:{top:e.top,left:e.left},handlePlayerMovementFromMouse:t.handlePlayerMovementFromMouse})})),r.a.createElement(I,{dimension:this.state.squareSize,position:this.state.goal}),this.state.ColoredLineDirections.map((function(e){return r.a.createElement(_,{dir:e,position:{top:t.state.playerState[t.state.robotSelected].top*t.state.squareSize,left:t.state.playerState[t.state.robotSelected].left*t.state.squareSize},endPosition:t.handleCollision({dir:e},t.state.robotSelected,t.state.playerState[t.state.robotSelected].color),color:"red"})})),this.state.playerState.map((function(e,n){return r.a.createElement(D,{dimension:t.state.squareSize,position:{top:e.top,left:e.left},color:e.color,selected:t.state.robotSelected,index:n,onClick:t.robotSelect,handlePlayerMovement:t.handlePlayerMovement,tabSelector:t.tabSelector})})),this.state.wallHorizontal.map((function(e){return r.a.createElement(B,{orientation:"horizontal",dimension:t.state.squareSize,position:{top:e.top,left:e.left}})})),this.state.wallVerticle.map((function(e){return r.a.createElement(B,{orientation:"verticle",dimension:t.state.squareSize,position:{top:e.top,left:e.left}})})),r.a.createElement(W,{width:this.state.width*this.state.squareSize,height:this.state.height*this.state.squareSize,visible:this.state.gameWon},r.a.createElement(ie,{playerState:this.state.playerState,resetPuzzle:this.resetPuzzle,highscores:this.state.highscores,checkwin:this.checkwin}))),r.a.createElement("div",{style:{display:"grid",marginTop:"15px"}},r.a.createElement(le,{onClick:this.toggleLineIndicators}),r.a.createElement(re,{highscores:this.state.highscores})),r.a.createElement(Q,{createBoard:this.createBoard,width:this.state.width,height:this.state.height,percent:this.state.percent,closeModal:this.closeCreateBoardModal,show:this.state.showBoardResetPanelModal}))}}]),a}(r.a.Component),me=Object(m.a)(de);function ge(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ye=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(ge()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).state={settingsWidth:16,settingsHeight:16,settingsPercent:.9},t}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(me,{loadedGame:"No",settingsWidth:this.state.settingsWidth,settingsHeight:this.state.settingsHeight,settingsPercent:this.state.settingsPercent})}}]),a}(r.a.Component);function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}r.a.Component;function be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}r.a.Component;var Ee=n(108),Se=n(109),xe=n(110);function we(e){var t=V();if("undefined"!==typeof e.highscore)var n=e.highscore.numMoves,a=e.highscore.comment;else n="None",a="";return r.a.createElement(Ee.a,{onClick:function(){e.handleGameClick(e.game.puzzledata,e.highscores,e.game.uri)},style:{cursor:"pointer"},item:!0},r.a.createElement(Se.a,{className:t.paper},r.a.createElement(Ee.a,{container:!0,spacing:2},r.a.createElement(Ee.a,{item:!0},r.a.createElement(xe.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:"https://scx1.b-cdn.net/csz/news/800/2019/3-robot.jpg"}))),r.a.createElement(Ee.a,{item:!0,xs:15,sm:!0,container:!0},r.a.createElement(Ee.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:5},r.a.createElement(Ee.a,{item:!0,xs:!0},r.a.createElement(te.a,{gutterBottom:!0,variant:"subtitle1"},e.game.name),r.a.createElement(te.a,{variant:"body2",gutterBottom:!0},"Type ",e.game.type," \u2022 ",e.game.difficulty),r.a.createElement(te.a,{variant:"body2",color:"textSecondary"},e.game.authorname)),r.a.createElement(Ee.a,{item:!0},r.a.createElement(te.a,{variant:"body2",style:{cursor:"pointer"}},"Remove")))),r.a.createElement(Ee.a,{spacing:2,item:!0},r.a.createElement(te.a,{variant:"body2"},n),r.a.createElement(te.a,{variant:"body2",color:"textSecondary"},a)))))}function Re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Oe=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(Re()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;Object(c.a)(this,a),(t=n.call(this,e)).handleGameClick=function(e,n,a){t.props.handleGameClick(e,n,a)},t.handleSearchSubmit=function(e){e.preventDefault();var n=document.getElementById("searchBarFindGame").value;d.a.post("/search",{search:n}).then((function(e){console.log(e),t.setState({highscoreslist:JSON.parse(e.data.highscoreslist),gameslist:JSON.parse(e.data.gameslist)})}))};var r=window.gameslist,o=window.highscoreslist;return t.state={gameslist:r,highscoreslist:o},t}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"GameMain"},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(Ee.a,{container:!0,justify:"center",spacing:2},this.state.gameslist.map((function(t,n){return r.a.createElement(we,{handleGameClick:e.handleGameClick,game:t,highscores:e.state.highscoreslist[n],highscore:e.state.highscoreslist[n][0]})})))))}}]),a}(r.a.Component);function je(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ce=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(je()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){return Object(c.a)(this,a),n.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(me,{loadedGame:"Yes",gamedata:this.props.gamedata,highscores:this.props.highscores,uri:this.props.uri})}}]),a}(r.a.Component);n(86);function ke(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Pe=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(ke()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).loginGoogle=function(e){e.preventDefault(),window.location.href="/login/google"},t}return Object(l.a)(a,[{key:"render",value:function(){return this.props.show?r.a.createElement("div",{class:"modal",id:"modal"},r.a.createElement("h2",null,"Login to Robits!"),r.a.createElement("img",{onClick:this.loginGoogle,src:"/static/images/btn_google_signin_light_normal_web@2x.png"}),r.a.createElement("button",{class:"toggle-button",onClick:this.props.closeLoginModal},"close")):null}}]),a}(r.a.Component);function ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var De=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(ze()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(){return Object(c.a)(this,a),n.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return"No"==window.loggedin?null:r.a.createElement("div",null,r.a.createElement("div",{class:"dasher"},r.a.createElement("img",{src:window.userInfo.profilePicture,style:{borderRadius:"50%",height:"50px",width:"50px"}})),r.a.createElement("div",null,window.userInfo.username))}}]),a}(r.a.Component);function Me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Be=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(Me()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleClick=function(e){return"Yes"==window.loggedin?t.props.onClick("Logout"):t.props.onClick("Sign in")},t}return Object(l.a)(a,[{key:"render",value:function(){if("Yes"==window.loggedin)var e="Logout";else e="Sign in";return r.a.createElement("a",{onClick:this.handleClick,class:"signin button button-empty"},e)}}]),a}(r.a.Component);function He(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ie=function(e){Object(s.a)(a,e);var t,n=(t=a,function(){var e,n=Object(p.a)(t);if(He()){var a=Object(p.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).SignInButtonPressed=function(e){"Sign in"==e?t.setState({showLoginModal:!0}):window.location.href="/auth/logout"},t.closeLoginModal=function(e){e.preventDefault(),t.setState({showLoginModal:!1})},t.handleGameClick=function(e,n,a){t.setState({PageSelected:r.a.createElement(Ce,{highscores:n,gamedata:e,uri:a})})},t.handleClickCreateGame=function(e){e.preventDefault();var n=r.a.createElement(ye,{state:"new"});t.setState({PageSelected:n})},t.handleClickFindGame=function(e){e.preventDefault(),t.setState({PageSelected:r.a.createElement(Oe,{handleGameClick:t.handleGameClick})})},console.log(window.highscoreslist),console.log(window.gameslist),""==window.uri?t.state={PageSelected:r.a.createElement(ye,null)}:t.state={PageSelected:r.a.createElement(Ce,{gamedata:window.token.puzzledata,highscores:window.highscores,uri:window.uri})},t.state.showLoginModal=!1,t}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{id:"top"},r.a.createElement("div",{class:"site-title-nav"},r.a.createElement("input",{type:"checkbox",id:"tn-tg",class:"topnav-toggle fullscreen-toggle","aria-label":"Navigation"}),r.a.createElement("label",{for:"tn-tg",class:"fullscreen-mask"}),r.a.createElement("label",{for:"tn-tg",class:"hbg"},r.a.createElement("span",{class:"hbg__in"})),r.a.createElement("h1",{class:"site-title"},r.a.createElement("a",{href:"/"},"RobitsEvolved",r.a.createElement("span",null,".com"))),r.a.createElement("nav",{id:"topnav",class:"hover"},r.a.createElement("section",null,r.a.createElement("a",{href:"/"},r.a.createElement("span",{class:"play"},"Play"),r.a.createElement("span",{class:"home"},"robitsevolved")),r.a.createElement("div",{role:"group"},r.a.createElement("a",{onClick:this.handleClickCreateGame,href:"/#createGame"},"Create a game"),r.a.createElement("a",{onClick:this.handleClickFindGame,href:"/#findgame"},"Find a game"),r.a.createElement("a",{href:"/simul"},"Puzzle Rush"))),r.a.createElement("section",null,r.a.createElement("a",{href:"/training"},"Learn"),r.a.createElement("div",{role:"group"},r.a.createElement("a",{href:"/learn"},"Robits Basics"),r.a.createElement("a",{href:"/training"},"Starter Puzzles"))),r.a.createElement("section",null,r.a.createElement("a",{href:"/player"},"Community"),r.a.createElement("div",{role:"group"},r.a.createElement("a",{href:"/player"},"Players"),r.a.createElement("a",{href:"/team"},"Teams"),r.a.createElement("a",{href:"/forum"},"Forum"))),r.a.createElement("section",null,r.a.createElement("a",{href:"/analysis"},"Tools"),r.a.createElement("div",{role:"group"},r.a.createElement("a",{href:"/analysis"},"Robits solver (test)"),r.a.createElement("a",{href:"/analysis#explorer"},"Settings"))))),r.a.createElement("div",{class:"site-buttons"},r.a.createElement("div",{id:"clinput"},r.a.createElement("a",{class:"link"},r.a.createElement("span",{"data-icon":"y"})),r.a.createElement("input",{spellcheck:"false",autocomplete:"false","aria-label":"Search",placeholder:"Search"})),r.a.createElement("div",{class:"dasher"},r.a.createElement("a",{class:"toggle link anon"},r.a.createElement("span",{title:"Preferences","data-icon":"%"}))),r.a.createElement(De,null),r.a.createElement(Be,{onClick:this.SignInButtonPressed}))),this.state.PageSelected,r.a.createElement(Pe,{closeLoginModal:this.closeLoginModal,show:this.state.showLoginModal}))}}]),a}(r.a.Component),Te=n(112);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Te.a,null,r.a.createElement(Ie,null)),document.getElementById("MainApp")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.4e606759.chunk.js.map